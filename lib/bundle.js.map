{"version":3,"sources":["webpack:///webpack/bootstrap aac6facf6bfcf9ac0a80","webpack:///./lib/guntanks.js","webpack:///./lib/stage.js","webpack:///./lib/tank.js"],"names":["can","document","getElementById","ctx","getContext","tank","stage","window","addEventListener","event","keyName","key","move","setInterval","clearRect","width","height","render","Stage","img","Image","src","drawImage","projectile","Tank","x","y","velX","velY","hitTest","bind","fillStyle","fillRect","array","i","j","push","length","getImageData","data","console","log"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;AC/CA;;;;AACA;;;;;;AAfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAMA,IAAMA,MAAMC,SAASC,cAAT,CAAwB,QAAxB,CAAZ;AACA,IAAMC,MAAMH,IAAII,UAAJ,CAAe,IAAf,CAAZ;;AAGA,IAAIC,OAAO,mBAAS,GAAT,EAAa,CAAb,EAAgBF,GAAhB,CAAX;AACA,IAAIG,QAAQ,qBAAZ;;AAEAC,OAAOC,gBAAP,CAAwB,SAAxB,EAAmC,UAACC,KAAD,EAAW;AAC5C,MAAMC,UAAUD,MAAME,GAAtB;AACA,MAAID,WAAW,GAAf,EAAoBL,KAAKO,IAAL,CAAU,CAAC,GAAX;AACpB,MAAIF,WAAW,GAAf,EAAoBL,KAAKO,IAAL,CAAU,GAAV;AAErB,CALD;AAMA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACA;AACA;AACF;;;AAMAC,YAAa,YAAM;AACjBV,MAAIW,SAAJ,CAAc,CAAd,EAAgB,CAAhB,EAAkBd,IAAIe,KAAtB,EAA6Bf,IAAIgB,MAAjC;AACAV,QAAMW,MAAN,CAAad,GAAb;AACAE,OAAKY,MAAL,CAAYd,GAAZ;AAED,CALD,EAKG,OAAK,EALR;;AAaA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,kD;;;;;;;;;;;;;;;;;IC/FMe,K;AACJ,mBAAe;AAAA;AAEd;;;;2BAEOf,G,EAAK;AACX,UAAIgB,MAAM,IAAIC,KAAJ,EAAV;AACAD,UAAIE,GAAJ,GAAU,oBAAV;AACAlB,UAAImB,SAAJ,CAAcH,GAAd,EAAmB,GAAnB,EAAwB,GAAxB;AAED;;;0BAEMI,U,EAAY,CAElB;;;;;;kBAMYL,K;;;;;;;;;;;;;;;;;ICtBTM,I;AACJ,gBAAaC,CAAb,EAAgBC,CAAhB,EAAmBvB,GAAnB,EAAwB;AAAA;;AACtB,SAAKsB,CAAL,GAASA,CAAT;AACA,SAAKC,CAAL,GAASA,CAAT;AACA;AACA,SAAKX,KAAL,GAAa,EAAb;AACA,SAAKC,MAAL,GAAc,EAAd;AACA,SAAKW,IAAL,GAAY,CAAZ;AACA,SAAKC,IAAL,GAAY,CAAZ;AACA,SAAKzB,GAAL,GAAWA,GAAX;;AAEA,SAAK0B,OAAL,GAAe,KAAKA,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAf;AACD;;;;2BAEO3B,G,EAAK;;AAEX,WAAKS,IAAL;AACA;AACA,WAAKc,CAAL,IAAU,KAAKE,IAAf;AACAzB,UAAI4B,SAAJ,GAAgB,iBAAhB;AACA5B,UAAI6B,QAAJ,CAAa,KAAKP,CAAlB,EAAqB,KAAKC,CAA1B,EAA6B,KAAKX,KAAlC,EAAyC,KAAKC,MAA9C;AACA;AACA;AACA;AAED;;;4BAEQS,C,EAAGC,C,EAAGX,K,EAAOC,M,EAAQ;AAC5B,UAAIiB,QAAQ,EAAZ;AACA,WAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAInB,KAApB,EAA2BmB,GAA3B,EAAgC;AAC9B,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAInB,MAApB,EAA4BmB,GAA5B,EAAiC;AAC/BF,gBAAMG,IAAN,CAAW,CAACX,IAAES,CAAH,EAAMR,IAAES,CAAR,CAAX;AACD;AACF;AACD;AACA,WAAI,IAAID,KAAI,CAAZ,EAAeA,KAAID,MAAMI,MAAzB,EAAiCH,IAAjC,EAAsC;AACpC;AACA,YAAI,KAAK/B,GAAL,CAASmC,YAAT,CAAsBL,MAAMC,EAAN,EAAS,CAAT,CAAtB,EAAkCD,MAAMC,EAAN,EAAS,CAAT,CAAlC,EAA8C,CAA9C,EAAgD,CAAhD,EAAmDK,IAAnD,CAAwD,CAAxD,KAA8D,CAAlE,EAAqE,OAAO,IAAP;AACtE;AACD,aAAO,KAAP;AACD;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;2BAEgB;AAAA,UAAVZ,IAAU,uEAAH,CAAG;;AACd,WAAKF,CAAL,IAAUE,IAAV;AACA;AACA;AACA,UAAI,CAAC,KAAKE,OAAL,CAAa,KAAKJ,CAAlB,EAAqB,KAAKC,CAAL,GAAO,KAAKV,MAAZ,GAAmB,CAAxC,EAA2C,KAAKD,KAAhD,EAAuD,CAAvD,CAAL,EAAgE;AAC9DyB,gBAAQC,GAAR,CAAY,SAAZ;AACA,aAAKf,CAAL,IAAU,CAAV;AACD;AACD,aAAO,KAAKG,OAAL,CAAa,KAAKJ,CAAlB,EAAqB,KAAKC,CAAL,GAAO,KAAKV,MAAZ,GAAmB,CAAxC,EAA2C,KAAKD,KAAhD,EAAuD,CAAvD,CAAP,EAAkE;AAChEyB,gBAAQC,GAAR,CAAY,SAAZ;AACA,aAAKf,CAAL,IAAU,CAAV;AACD;AAEF;;;;;;kBAGYF,I","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap aac6facf6bfcf9ac0a80","// const Game = require(\"./game\");\n// const GameView = require(\"./game_view\");\n//\n// document.addEventListener(\"DOMContentLoaded\", () => {\n//   const canvasEl = document.getElementsByTagName(\"canvas\")[0];\n//   canvasEl.width = Game.DIM_X;\n//   canvasEl.height = Game.DIM_Y;\n//\n//   const ctx = canvasEl.getContext(\"2d\");\n//   const game = new Game();\n//   new GameView(game, ctx).start();\n// });\n\n\nimport Stage from './stage';\nimport Tank from './tank';\n\nconst can = document.getElementById('canvas');\nconst ctx = can.getContext('2d');\n\n\nlet tank = new Tank(200,0, ctx);\nlet stage = new Stage();\n\nwindow.addEventListener('keydown', (event) => {\n  const keyName = event.key;\n  if (keyName == 'a') tank.move(-1.5);\n  if (keyName == 'd') tank.move(1.5);\n\n});\n// window.addEventListener('keyup', (event) => {\n//   const keyName = event.key;\n//   if (keyName == 'a') tank.move(0);\n//   if (keyName == 'd') tank.move(0);\n//\n// });\n\n// const bindKeyHandlers = function () {\n//   let that = this;\n//   key('a', function (-0.5) {\n//     tank.move();\n//   });\n//   key('s', function () {\n//     tank.move();\n//   });\n//   key('d', function (0.5) {\n//     tank.move();\n//   });\n//   key('w', function () {\n//     tank.move();\n//   });\n  // key('space', function () {\n  //   tank.fireBullet();\n  // });\n// };\n\n\n\n\n\nsetInterval( () => {\n  ctx.clearRect(0,0,can.width, can.height);\n  stage.render(ctx);\n  tank.render(ctx);\n\n}, 1000/60);\n\n\n\n\n\n\n\n// let imageData = ctx.getImageData(0,0,1,1);\n\n// function get_pixel(x, y, canvasData, offsetX, offsetY) {\n//\n//     x = x + offsetX;\n//     y = y + offsetY;\n//     console.log(canvasData);\n//     console.log(offsetX);\n//     console.log(canvasData.width);\n//\n//     if (x < 0 || y < 0 || x > canvasData.width || y > canvasData.height) return;\n//\n//     var r = (y * canvasData.width + x) * 4;\n//     var g = (y * canvasData.width + x) * 4 + 1;\n//     var b = (y * canvasData.width + x) * 4 + 2;\n//     var a = (y * canvasData.width + x) * 4 + 3;\n//\n//     console.log(r);\n//     console.log(canvasData.data);\n//\n//     return \"RGBA(\" + canvasData.data[r] + \",\" + canvasData.data[g] + \",\" + canvasData.data[b] + \",\" + canvasData.data[a] + \")\";\n// }\n\n\n// console.log(get_pixel(0,0,imageData,100, 100));\n\n\n\n// WEBPACK FOOTER //\n// ./lib/guntanks.js","\n\nclass Stage {\n  constructor () {\n\n  }\n\n  render (ctx) {\n    let img = new Image();\n    img.src = \"./terrain_hole.png\";\n    ctx.drawImage(img, 150, 500);\n\n  }\n\n  hitBy (projectile) {\n\n  }\n\n\n\n}\n\nexport default Stage;\n\n\n// WEBPACK FOOTER //\n// ./lib/stage.js","class Tank {\n  constructor (x, y, ctx) {\n    this.x = x;\n    this.y = y;\n    // this.radius = 20;\n    this.width = 25;\n    this.height = 25;\n    this.velX = 0;\n    this.velY = 0;\n    this.ctx = ctx;\n\n    this.hitTest = this.hitTest.bind(this);\n  }\n\n  render (ctx) {\n\n    this.move();\n    // this.x += this.velX;\n    this.y += this.velY;\n    ctx.fillStyle = 'rgba(255,0,0,1)';\n    ctx.fillRect(this.x, this.y, this.width, this.height);\n    // ctx.beginPath();\n    // ctx.arc(this.x, this.y, this.radius, 0, 2*Math.PI, false);\n    // ctx.fill();\n\n  }\n\n  hitTest (x, y, width, height) {\n    let array = [];\n    for (let i = 0; i < width; i++) {\n      for (let j = 0; j < height; j++) {\n        array.push([x+i, y+j]);\n      }\n    }\n    // console.log(array);\n    for(let i = 0; i < array.length; i++) {\n      // console.log(this.ctx.getImageData(array[i][0],array[i][1],1,1).data);\n      if (this.ctx.getImageData(array[i][0],array[i][1],1,1).data[1] != 0) return true;\n    }\n    return false;\n  }\n\n  // hitTerrain (ctx) {\n  //\n  //   let data = ctx.getImageData(this.x, this.y+this.radius, 1, 1);\n  //   let dataLeft = ctx.getImageData(this.x-5, this.y+this.radius-5, 1, 1);\n  //   let dataMaxLeft = ctx.getImageData(this.x-this.radius+10, this.y+this.radius-10, 1, 1);\n  //   let dataRight = ctx.getImageData(this.x+5, this.y-5, 1, 1);\n  //   let dataMaxRight = ctx.getImageData(this.x+this.radius-10, this.y+this.radius-10, 1, 1);\n  //   if(data.data[0] != 0 || dataLeft.data[0] != 0 || dataRight.data[0] != 0\n  //     || dataMaxLeft.data[0] != 0 || dataMaxRight.data[0] != 0\n  //   ) {\n  //     this.velY = 0;\n  //   } else {\n  //     this.velY = 10;\n  //   }\n  // }\n\n  move (velX = 0) {\n    this.x += velX;\n    // console.log('x',this.x);\n    // console.log('y',this.y);\n    if (!this.hitTest(this.x, this.y+this.height-1, this.width, 1)) {\n      console.log('falling');\n      this.y += 6;\n    }\n    while (this.hitTest(this.x, this.y+this.height-1, this.width, 1)) {\n      console.log('resting');\n      this.y -= 1;\n    }\n\n  }\n}\n\nexport default Tank;\n\n\n// WEBPACK FOOTER //\n// ./lib/tank.js"],"sourceRoot":""}